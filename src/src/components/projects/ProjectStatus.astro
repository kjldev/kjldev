---
import Pill from '../Pill.astro';
import Tooltip from '../Tooltip.astro';

interface Props {
	status: string;
	size?: 'small' | 'large';
}

const { status, size = 'small' } = Astro.props;

type StatusEntry = {
	text: string;
	emoji: string;
	bgColor: string;
	tooltip: string;
};

const statusMap: Record<string, StatusEntry> = {
	thinking: {
		text: 'Thinking',
		emoji: '🤔',
		bgColor: 'bg-gradient-to-r from-yellow-500 to-yellow-600',
		tooltip: 'We’re still planning this project',
	},
	'in-progress': {
		text: 'In Progress',
		emoji: '🚧',
		bgColor: 'bg-gradient-to-r from-blue-500 to-indigo-600',
		tooltip: 'Work is actively underway',
	},
	live: {
		text: 'Live',
		emoji: '🚀',
		bgColor: 'bg-gradient-to-r from-green-500 to-teal-500',
		tooltip: 'This project is deployed/ running/ available',
	},
	retired: {
		text: 'Retired',
		emoji: '🪦',
		bgColor: 'bg-gradient-to-r from-gray-500 to-gray-700',
		tooltip: 'No longer maintained, RIP.',
	},
	want: {
		text: 'Want',
		emoji: '💖',
		bgColor: 'bg-gradient-to-r from-pink-500 to-red-500',
		tooltip: 'We’d love to see this happen.',
	},
	collaborator: {
		text: 'Collaborator',
		emoji: '🤝',
		bgColor: 'bg-gradient-to-r from-purple-500 to-indigo-600',
		tooltip: 'Helped to collaborate on this project..',
	},
};

const defaultStatus: StatusEntry = {
	text: 'Unknown',
	emoji: '❓',
	bgColor: 'bg-gray-500',
	tooltip: 'Status not recognized',
};

const { text, emoji, bgColor, tooltip } = statusMap[status] || defaultStatus;
---

<Tooltip tooltip={tooltip}>
	<Pill
		emoji={emoji}
		text={text}
		size={size}
		bgColor={bgColor}
		textColor='text-white'
	/>
</Tooltip>

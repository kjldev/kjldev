---
import Layout from './Layout.astro';
import ComponentStatus from '../components/components/ComponentStatus.astro';
import ComponentTag from '../components/components/ComponentTag.astro';
import ComponentLink from '../components/components/ComponentLink.astro';
import ComponentDiscussionLink from '../components/components/ComponentDiscussionLink.astro';
import { type Component } from '../scripts/component-types';

const { frontmatter, filePath } = Astro.props as {
	frontmatter: Component;
	filePath: string;
};
---

<Layout title={frontmatter.title}>
	<div class='max-w-screen-lg mx-auto p-4'>
		<div class='mb-4'>
			<a
				href='/components'
				class='inline-block px-4 py-2 bg-gradient-to-r from-gray-700 to-gray-900 text-white font-semibold rounded-full shadow-sm hover:shadow-md transition transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-400'
			>
				&larr; Back to Components
			</a>
		</div>

		<h1 class='text-3xl font-bold mb-6'>{frontmatter.title}</h1>

		<div class='mb-2'>
			<ComponentStatus
				status={frontmatter.status}
				large
			/>
			<ComponentDiscussionLink
				title={frontmatter.title}
				status={frontmatter.status}
				filePath={filePath}
				variant='chat'
			/>
		</div>

		{
			frontmatter.description && (
				<p class='italic mb-6'>{frontmatter.description}</p>
			)
		}

		{
			frontmatter.links && (
				<div class='mb-6 flex flex-wrap gap-2'>
					{frontmatter.links.map((link) => (
						<ComponentLink link={link} />
					))}
				</div>
			)
		}

		{
			frontmatter.tags && frontmatter.tags.length > 0 && (
				<div class='mb-6 flex flex-wrap gap-2'>
					{frontmatter.tags.map((tag) => (
						<ComponentTag tag={tag} />
					))}
				</div>
			)
		}

		<slot />

		<div class='flex mt-6'>
			<ComponentDiscussionLink
				title={frontmatter.title}
				status={frontmatter.status}
				filePath={filePath}
			/>
		</div>
	</div>
</Layout>
